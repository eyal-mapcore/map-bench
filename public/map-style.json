{
  "version": 8,
  "name": "MapTest Style",
  "metadata": {
    "description": "Custom style with satellite imagery and overlay layers",
    "religionIcons": {
      "jewish": "/sprites/jewish.svg",
      "christian": "/sprites/christian.svg",
      "muslim": "/sprites/muslim.svg",
      "buddhist": "/sprites/buddhist.svg",
      "hindu": "/sprites/hindu.svg",
      "shinto": "/sprites/shinto.svg",
      "default": "/sprites/default.svg"
    },
    "flightTracking": {
      "icon": "/sprites/airplane.svg",
      "iconSize": 36,
      "updateInterval": 10000,
      "bboxRadius": 0.5
    }
  },
  "sources": {
    "satellite": {
      "type": "raster",
      "tiles": [
        "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"
      ],
      "tileSize": 256,
      "attribution": "Â© Esri"
    },
    "power-lines": {
      "type": "geojson",
      "data": "/data/power-lines.geojson"
    },
    "religious-buildings": {
      "type": "geojson",
      "data": "/data/religious-buildings.geojson"
    }
  },
  "sprite": "",
  "glyphs": "https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "satellite-layer",
      "type": "raster",
      "source": "satellite",
      "minzoom": 0,
      "maxzoom": 22
    },
    {
      "id": "power-lines-glow",
      "type": "line",
      "source": "power-lines",
      "layout": {
        "line-join": "round",
        "line-cap": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": "#ff9500",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 6,
          14, 10,
          18, 16
        ],
        "line-opacity": 0.4,
        "line-blur": 3
      }
    },
    {
      "id": "power-lines-layer",
      "type": "line",
      "source": "power-lines",
      "layout": {
        "line-join": "round",
        "line-cap": "round",
        "visibility": "none"
      },
      "paint": {
        "line-color": "#ffdc00",
        "line-width": [
          "interpolate", ["linear"], ["zoom"],
          10, 2,
          14, 4,
          18, 8
        ],
        "line-opacity": 0.8
      }
    },
    {
      "id": "religious-buildings-circle",
      "type": "circle",
      "source": "religious-buildings",
      "layout": {
        "visibility": "none"
      },
      "paint": {
        "circle-radius": [
          "interpolate", ["linear"], ["zoom"],
          10, 4,
          14, 6,
          18, 10
        ],
        "circle-color": [
          "match",
          ["get", "religion"],
          "jewish", "#3b82f6",
          "christian", "#ef4444",
          "muslim", "#22c55e",
          "buddhist", "#f59e0b",
          "hindu", "#f97316",
          "shinto", "#ec4899",
          "sikh", "#8b5cf6",
          "#a855f7"
        ],
        "circle-stroke-width": 1.5,
        "circle-stroke-color": "#ffffff",
        "circle-opacity": 1
      }
    },
    {
      "id": "religious-buildings-icon",
      "type": "symbol",
      "source": "religious-buildings",
      "minzoom": 12,
      "layout": {
        "visibility": "none",
        "icon-image": [
          "match",
          ["get", "religion"],
          "jewish", "icon-jewish",
          "christian", "icon-christian",
          "muslim", "icon-muslim",
          "buddhist", "icon-buddhist",
          "hindu", "icon-hindu",
          "shinto", "icon-shinto",
          "icon-default"
        ],
        "icon-size": [
          "interpolate", ["linear"], ["zoom"],
          12, 0.4,
          14, 0.5,
          18, 0.7
        ],
        "icon-allow-overlap": true,
        "icon-ignore-placement": true
      }
    },
    {
      "id": "religious-buildings-label",
      "type": "symbol",
      "source": "religious-buildings",
      "minzoom": 14,
      "layout": {
        "visibility": "none",
        "text-field": ["coalesce", ["get", "name"], ["get", "nameHe"], ["get", "nameEn"], ""],
        "text-font": ["Noto Sans Regular"],
        "text-size": [
          "interpolate", ["linear"], ["zoom"],
          14, 10,
          18, 14
        ],
        "text-offset": [0, 1.5],
        "text-anchor": "top",
        "text-max-width": 10,
        "text-optional": true
      },
      "paint": {
        "text-color": "#ffffff",
        "text-halo-color": "#000000",
        "text-halo-width": 1.5,
        "text-opacity": 0.9
      }
    }
  ]
}

